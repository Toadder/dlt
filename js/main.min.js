function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function _removeClass(e,t){for(let n of e)n.classList.remove(t)}function _addClass(e,t){for(let n of e)n.classList.add(t)}function ymap(){let e=document.querySelector(".map");function t(){if("undefined"==typeof ymaps)return;document.getElementById("ymap");ymaps.ready((function(){let e=new ymaps.Map("ymap",{center:[55.965080685980936,37.82625693904612],zoom:14,controls:["zoomControl"],behaviors:["drag"]}),t=new ymaps.Placemark([55.9653695290496,37.80119437801096],{hintContent:"DLT"},{iconLayout:"default#image",iconImageHref:"../img/mark.png",iconImageSize:[48,57],iconImageOffset:[-25,-61.5]});function n(){window.innerWidth<"576"?e.setCenter([55.96366845829584,37.79828198840124]):window.innerWidth<"942"?e.setCenter([55.96366845829584,37.81817409752407]):e.setCenter([55.965080685980936,37.82625693904612])}n(),e.geoObjects.add(t),window.onresize=function(){n()}}))}function n(){let o=e.getBoundingClientRect().top,i=window.pageYOffset,r=o+i;i+window.innerHeight>r&&(!function(){let e=document.createElement("script");e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",document.body.appendChild(e),e.onload=t}(),window.removeEventListener("scroll",n))}window.addEventListener("scroll",n),n()}function offset(e){const t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+o,left:t.left+n}}function getScrollPercent(e){return e.scrollLeft/(e.scrollWidth-e.offsetWidth)*100}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));var isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)||navigator.userAgent.match(/WPDesktop/i)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Opera()||isMobile.Windows()}};function formAddError(e){e.classList.add("_error"),e.parentElement.classList.add("_error")}function formRemoveError(e){e.classList.remove("_error"),e.parentElement.classList.remove("_error")}function emailTest(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.value)}window.onload=function(e){ymap();const t=document.querySelectorAll("form");for(var n=0;n<t.length;n++)form=t[n],form.addEventListener("submit",o);async function o(e){e.preventDefault();(function(e){let t=e.querySelectorAll("._req");for(var n=0;n<t.length;n++){const e=t[n];formRemoveError(e),e.classList.contains("_email")?emailTest(e)||(formAddError(e)):""==e.value&&(formAddError(e))}})(form),new FormData(form)}const i=document.querySelectorAll("._anim-item");if(i){function r(){for(var e=0;e<i.length;e++){const t=i[e],n=t.offsetHeight,o=offset(t).top,r=4;let s=window.innerHeight-n/r;n>window.innerHeight&&(s=window.innerHeight-window.innerHeight/r),pageYOffset>o-s&&pageYOffset<o+n&&(t.getAttribute("data-delay")&&window.innerWidth>576&&(t.style.transitionDelay=t.getAttribute("data-delay")+"s"),t.classList.add("_shown"))}}window.addEventListener("scroll",r),setTimeout(()=>{r()},300)}const s=document.querySelector(".header__burger"),l=document.querySelector(".header__wrapper");s.addEventListener("click",(function(e){s.classList.toggle("_active"),l.classList.toggle("_active"),document.body.classList.toggle("_lock")}));const a=document.querySelector(".header");window.pageYOffset>=.6*a.clientHeight&&a.classList.add("_on-scroll"),window.addEventListener("scroll",(function(e){window.pageYOffset>=.6*a.clientHeight?a.classList.add("_on-scroll"):a.classList.remove("_on-scroll")}));const c=document.querySelector(".comparison__table"),d=document.querySelector(".comparison__fill");c.addEventListener("scroll",e=>{d.style.width=getScrollPercent(c)+"%"});const u=document.querySelectorAll(".slider-field__slide");if(isMobile.any())for(let e=0;e<u.length;e++){const t=u[e];t.addEventListener("click",(function(e){t.querySelector(".slider-field__content").classList.toggle("_active")}))}new Swiper(".slider-intro",{slidesPerView:1.7,speed:800,autoHeight:!0,spaceBetween:38,loop:!0,navigation:{nextEl:".intro__next",prevEl:".intro__prev"},pagination:{type:"progressbar",el:".intro__progress"},breakpoints:{320:{slidesPerView:1.1,spaceBetween:20},767:{slidesPerView:1.3,spaceBetween:20},1300:{slidesPerView:1.7,spaceBetween:38}},on:{init:function(e){let t=document.querySelector(".intro__total"),n=e.slides.length-2*e.loopedSlides;t.innerHTML=n<10?"0"+n:n}}});if(window.innerWidth<942){new Swiper(".slider-field",{slidesPerView:2.5,autoHeight:!0,speed:800,freeMode:!0,pagination:{type:"progressbar",el:".field__progress"},on:{init:function(e){let t=document.querySelector(".field__total"),n=e.slides.length;t.innerHTML=n<10?"0"+n:n}},breakpoints:{320:{slidesPerView:1.27},568:{slidesPerView:2.5}}})}};